(this["webpackJsonpgk-weather-app"]=this["webpackJsonpgk-weather-app"]||[]).push([[0],{77:function(e,t,n){"use strict";n.r(t);var r=n(1),a=(n(0),n(40)),c=(n(52),n(10)),i=n.n(c),o=n(12),u=n(9),s=n(6),d=n(78),l=n(7);function h(){var e=Object(s.a)(["\n  margin-top: 2rem;\n  transform: scale(1.5);\n"]);return h=function(){return e},e}var j=l.a.div(h()),f=function(e){var t=e.loadingMessage;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:t}),Object(r.jsx)(j,{children:Object(r.jsx)(d.a,{animation:"border",variant:"light"})})]})};f.defaultProps={loadingMessage:"Loading"};var b=f;function g(){var e=Object(s.a)(["\n  color: #ed3a0e;\n  font-size: 4rem;\n  font-weight: 600;\n"]);return g=function(){return e},e}var p=l.a.h2(g()),m=function(e){var t=e.errorMessage;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(p,{children:t})})};m.defaultProps={errorMessage:"Sorry could not find data"};var x=m,O=function(e){switch(e.code){case e.PERMISSION_DENIED:return"User denied the request for Geolocation.";case e.POSITION_UNAVAILABLE:return"Location information is unavailable.";case e.TIMEOUT:return"The request to get user location timed out.";case e.UNKNOWN_ERROR:default:return"An unknown error occurred."}},v=function(){try{if(navigator.geolocation)return new Promise((function(e){navigator.geolocation.getCurrentPosition((function(t){var n=t.coords,r=n.latitude,a=n.longitude;e({latitude:r,longitude:a})}),O)}))}catch(e){Promise.reject(e)}return"Geolocation is not supported by this browser"},w=function(e){return e.toFixed(0)},A=n(79),y=n(44),F=n.n(y),M=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.latitude,r=t.longitude,a=t.APIKey,e.next=3,F.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(n,"&lon=").concat(r,"&appid=").concat(a,"&units=metric")).then((function(e){return e.data})).catch((function(e){return e}));case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=n(80);function C(){var e=Object(s.a)(["\n  width: 15%;\n  img {\n    filter: invert(1);\n  }\n"]);return C=function(){return e},e}var R=Object(l.a)(P.a)(C()),k=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(R,{"data-qa":"refresh-button",onClick:function(){return window.location.reload()},variant:"outline-light",children:Object(r.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAABdklEQVRYhe3WP0sdQRyF4UdFiDYWKgGNKJqQRlPY+xGCiCKohVY2FhYWqVLY2aUMwcrCEAhaSdKZ4FcQrAOChX+KpFK8V1PMrK6N2dkrRHBfGFjYOXPOzM7O/Kh46jQl9u/DHMbwBp2o4RC/sIMtHD9gRvACn6PZ9T9aDevoyumzd6WYxJ84wDk2MY0BtKEDI8LKfMuFPMN4owGWcBXFX9FbQPMSP6PmEgtlA0ygHttyorYZq9E0m0BSgOc4jaKVRPM8a+7uj8J8jIKdEqb3bdBCtOJA2Eyv/kcAwjccLWFeUVHxaBkVfu3CPMhhEnktHGoHwiF3h6RUJWjCB7RgV7gdC5Gf8WoDAd7FMY7RnSLMzLOr9L308m0l6mt4m6i9CTAvLNs1fmCogLYf21FTx2KqeT4AIX1WG9TwHbMYxDO0x+cZfMFF7PvbbUnWUABC9fvJ7Wrc1y6xgZ4iRqnftQtTwsyGhY1Vxwn2sScUrUeJ41Y8Yf4CX6aFeI76C/4AAAAASUVORK5CYII=",alt:"refresh-icon"})})})};function K(){var e=Object(s.a)(["\n  img {\n    transform: scale(1.5);\n  }\n"]);return K=function(){return e},e}function Y(){var e=Object(s.a)(["\n  width: 30%;\n  background-color: rgba(250, 250, 250, 0.2);\n  border-radius: 12px;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  padding: 1rem 2rem 1rem 2rem;\n\n  h1,\n  h2 {\n    font-size: 3rem;\n    padding-top: 1rem;\n  }\n\n  @media (max-width: 1480px) {\n    button {\n      width: 50px;\n    }\n\n    @media (max-width: 700px) {\n      width: 250px;\n  }\n"]);return Y=function(){return e},e}var q=function(){var e=Object(o.a)(i.a.mark((function e(t,n,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),I=Object(l.a)(A.a)(Y()),E=l.a.div(K()),B=function(e){var t=e.latitude,n=e.longitude,a=Object(u.d)({promiseFn:q,latitude:t,longitude:n,APIKey:"53f9d8e4213222cf517d86dc406d67fc"});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u.c,{state:a,"data-qa":"weather-data-rejected",children:Object(r.jsx)(x,{errorMessage:"Sorry could not retrieve weather results "})}),Object(r.jsx)(u.b,{state:a,"data-qa":"weather-data-pending",children:Object(r.jsx)(b,{loadingMessage:"Loading..."})}),Object(r.jsx)(u.a,{state:a,"data-qa":"weather-data-fulfilled",children:function(e){return Object(r.jsxs)(I,{children:[Object(r.jsx)(k,{"data-qa":"refresh-button"}),Object(r.jsx)("h1",{children:e.name}),Object(r.jsxs)("h2",{children:[w(e.main.temp),"\xb0C"]}),Object(r.jsx)(E,{children:Object(r.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png"),alt:"weather-icon"})}),Object(r.jsxs)("h4",{children:[w(e.main.temp_min),"\xb0C / ",w(e.main.temp_max),"\xb0C"]}),Object(r.jsx)("h2",{children:e.weather[0].main}),Object(r.jsx)("h3",{children:e.weather[0].description}),Object(r.jsxs)("h5",{children:["Wind Speed: ",(t=e.wind.speed,(1.609*t).toFixed(2)),"km/h"]}),Object(r.jsxs)("h5",{children:["Humidity: ",e.main.humidity,"%"]})]});var t}})]})};B.defaultProps={latitude:-33.96,longitude:18.51};var U=B,L=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),Promise.reject(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.d)({promiseFn:L});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u.c,{state:e,"data-qa":"location-rejected",children:Object(r.jsx)(x,{errorMessage:"Sorry could not find your location"})}),Object(r.jsx)(u.b,{state:e,"data-qa":"location-pending",children:Object(r.jsx)(b,{loadingMessage:"Trying to find your location..."})}),Object(r.jsx)(u.a,{state:e,"data-qa":"location-fulfilled",children:function(e){return Object(r.jsx)(U,{latitude:e.latitude,longitude:e.longitude})}})]})},W=function(){return Object(r.jsx)(S,{"data-qa":"user-coordinates"})};function N(){var e=Object(s.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n  background: linear-gradient(#60a8eb, #3b9cf7, #1983e6, #007aeb);\n  color: white;\n  font-family: 'Roboto', sans-serif;\n  font-weight: 100;\n  letter-spacing: 1px;\n"]);return N=function(){return e},e}var T=l.a.div(N()),V=document.getElementById("root");Object(a.render)(Object(r.jsx)(T,{children:Object(r.jsx)(W,{})}),V)}},[[77,1,2]]]);
//# sourceMappingURL=main.4f29be49.chunk.js.map
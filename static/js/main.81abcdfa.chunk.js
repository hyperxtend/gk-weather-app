(this["webpackJsonpgk-weather-app"]=this["webpackJsonpgk-weather-app"]||[]).push([[0],{77:function(e,t,n){"use strict";n.r(t);var r=n(1),a=(n(0),n(39)),i=(n(52),n(8)),c=n.n(i),o=n(12),s=n(7),d=n(79),u=n(9),l=n(10),h=n(78),j=n(80);function f(){var e=Object(u.a)(["\n  img {\n    width: 60px;\n    height: 60px;\n    transform: scale(1.5);\n  }\n"]);return f=function(){return e},e}function p(){var e=Object(u.a)(["\n  width: 45%;\n  background-color: rgba(250, 250, 250, 0.2);\n  border-radius: 12px;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  padding: 1rem 2rem 1rem 2rem;\n\n  h1,\n  h2 {\n    font-size: 3rem;\n  }\n  \n  h2{\n    padding-top: 1rem;\n  }\n\n  @media (max-width: 1480px) {\n    width: 400px;\n    padding: 1rem;\n    button {\n      width: 50px;\n    }\n\n    @media (max-width: 700px) {\n      width: 300px;\n  }\n"]);return p=function(){return e},e}function b(){var e=Object(u.a)(["\n  width: 10%;\n  img {\n    width: 30px;\n    height: 30px;\n    filter: invert(1);\n  }\n\n  @media (max-width: 1480px) {\n    img {\n      margin: 0 0 0 -3px;\n    }\n  }\n"]);return b=function(){return e},e}function m(){var e=Object(u.a)(["\n  margin-top: 2rem;\n  transform: scale(1.5);\n"]);return m=function(){return e},e}function g(){var e=Object(u.a)(["\n  text-align: center;\n"]);return g=function(){return e},e}function x(){var e=Object(u.a)(["\n  color: #ed3a0e;\n  font-size: 4rem;\n  font-weight: 600;\n"]);return x=function(){return e},e}function O(){var e=Object(u.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n  background: linear-gradient(#60a8eb, #3b9cf7, #1983e6, #007aeb);\n  color: #e1e4e6;\n  font-family: 'Roboto', sans-serif;\n  font-weight: 100;\n  letter-spacing: 1px;\n  overflow: hidden;\n"]);return O=function(){return e},e}var w=l.a.div(O()),v=l.a.h2(x()),A=Object(l.a)(h.a)(g()),y=l.a.div(m()),M=Object(l.a)(j.a)(b()),P=Object(l.a)(h.a)(p()),C=l.a.div(f()),k=function(e){var t=e.loadingMessage;return Object(r.jsxs)(A,{children:[Object(r.jsx)("h2",{children:t}),Object(r.jsx)(y,{children:Object(r.jsx)(d.a,{animation:"border",variant:"light"})})]})};k.defaultProps={loadingMessage:"Loading"};var F=k,q=function(e){var t=e.errorMessage;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(v,{children:t})})};q.defaultProps={errorMessage:"Sorry could not find data"};var R=q,K=function(e){switch(e.code){case e.PERMISSION_DENIED:alert("User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:alert("Location information is unavailable.");break;case e.TIMEOUT:alert("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:default:alert("An unknown error occurred.")}},Y=function(){try{if(navigator.geolocation)return new Promise((function(e){navigator.geolocation.getCurrentPosition((function(t){var n=t.coords,r=n.latitude,a=n.longitude;e({latitude:r,longitude:a})}),K)}))}catch(e){return Promise.reject(e)}alert("Geolocation is not supported by this browser")},I=function(e){return e.toFixed(0)},B=function(e,t){if(!0===Object.keys(e).includes(t))return e;return{base:"No base",clouds:{all:"No data",cod:200},coord:{lat:0,lon:0},dt:0,id:0,main:{feels_like:0,humidity:0,pressure:0,temp:0,temp_max:0,temp_min:0},name:"No city",sys:{type:0,id:0,country:"GB",sunrise:0,sunset:0},timezone:0,visibility:0,weather:[{id:0,main:"Can not find",description:"None",icon:"04d"}],wind:{deg:0,speed:0}}},E=n(43),N=n.n(E),U=function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.latitude,r=t.longitude,a=t.APIKey,e.next=3,N.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(n,"&lon=").concat(r,"&appid=").concat(a,"&units=metric")).then((function(e){return e.data})).catch((function(e){return e}));case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){return Object(r.jsx)(M,{"data-qa":"refresh-button",onClick:function(){return window.location.reload(!0)},variant:"outline-light",children:Object(r.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAABdklEQVRYhe3WP0sdQRyF4UdFiDYWKgGNKJqQRlPY+xGCiCKohVY2FhYWqVLY2aUMwcrCEAhaSdKZ4FcQrAOChX+KpFK8V1PMrK6N2dkrRHBfGFjYOXPOzM7O/Kh46jQl9u/DHMbwBp2o4RC/sIMtHD9gRvACn6PZ9T9aDevoyumzd6WYxJ84wDk2MY0BtKEDI8LKfMuFPMN4owGWcBXFX9FbQPMSP6PmEgtlA0ygHttyorYZq9E0m0BSgOc4jaKVRPM8a+7uj8J8jIKdEqb3bdBCtOJA2Eyv/kcAwjccLWFeUVHxaBkVfu3CPMhhEnktHGoHwiF3h6RUJWjCB7RgV7gdC5Gf8WoDAd7FMY7RnSLMzLOr9L308m0l6mt4m6i9CTAvLNs1fmCogLYf21FTx2KqeT4AIX1WG9TwHbMYxDO0x+cZfMFF7PvbbUnWUABC9fvJ7Wrc1y6xgZ4iRqnftQtTwsyGhY1Vxwn2sScUrUeJ41Y8Yf4CX6aFeI76C/4AAAAASUVORK5CYII=",alt:"refresh-icon"})})},S=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),W=function(e){var t=e.latitude,n=e.longitude,a=Object(s.d)({promiseFn:S,latitude:t,longitude:n,APIKey:"53f9d8e4213222cf517d86dc406d67fc"});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(s.c,{state:a,"data-qa":"rejected-state",children:Object(r.jsx)(R,{"data-qa":"error-message",errorMessage:"Sorry could not retrieve weather results "})}),Object(r.jsx)(s.b,{state:a,"data-qa":"pending-state",children:Object(r.jsx)(F,{"data-qa":"loading-spinner",loadingMessage:"Loading..."})}),Object(r.jsx)(s.a,{state:a,"data-qa":"fulfilled-state",children:function(e){return Object(r.jsxs)(P,{children:[Object(r.jsx)(L,{"data-qa":"refresh-button"}),Object(r.jsx)("h1",{children:B(e,"name").name}),Object(r.jsxs)("h2",{children:[I(B(e,"main").main.temp),"\xb0C"]}),Object(r.jsx)(C,{children:Object(r.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(B(e,"weather").weather[0].icon,".png"),alt:"weather-icon"})}),Object(r.jsxs)("h4",{children:[I(B(e,"main").main.temp_min),"\xb0C /",I(B(e,"main").main.temp_max),"\xb0C"]}),Object(r.jsx)("h2",{children:B(e,"weather").weather[0].main}),Object(r.jsx)("h3",{children:B(e,"weather").weather[0].description}),Object(r.jsxs)("h5",{children:["Wind Speed:",(t=B(e,"wind").wind.speed,(1.609*t).toFixed(2)),"km/h"]}),Object(r.jsxs)("h5",{children:["Humidity: ",B(e,"main").main.humidity,"%"]})]});var t}})]})};W.defaultProps={latitude:-33.96,longitude:18.51};var G=W,T=function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y();case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(s.d)({promiseFn:T});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(s.c,{state:e,"data-qa":"rejected-state",children:Object(r.jsx)(R,{"data-qa":"error-message",errorMessage:"Sorry could not find your location"})}),Object(r.jsx)(s.b,{state:e,"data-qa":"pending-state",children:Object(r.jsx)(F,{"data-qa":"loading-spinner",loadingMessage:"Trying to find your location..."})}),Object(r.jsx)(s.a,{state:e,"data-qa":"fulfilled-state",children:function(e){return Object(r.jsx)(G,{latitude:e.latitude,longitude:e.longitude})}})]})},D=function(){return Object(r.jsx)(V,{"data-qa":"user-coordinates"})},J=document.getElementById("root");Object(a.render)(Object(r.jsx)(w,{children:Object(r.jsx)(D,{})}),J)}},[[77,1,2]]]);
//# sourceMappingURL=main.81abcdfa.chunk.js.map